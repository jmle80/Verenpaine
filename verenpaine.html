function scan() {
  const w = video.videoWidth;
  const h = video.videoHeight;

  // ðŸ”² Rajaus: keskialue (LCD)
  const cropX = w * 0.3;
  const cropY = h * 0.25;
  const cropW = w * 0.4;
  const cropH = h * 0.35;

  raw.width = bw.width = cropW;
  raw.height = bw.height = cropH;

  const rctx = raw.getContext('2d');
  const bctx = bw.getContext('2d');

  // ðŸ“¸ PiirrÃ¤ rajattu raakakuva
  rctx.drawImage(
    video,
    cropX, cropY, cropW, cropH,
    0, 0, cropW, cropH
  );

  // âš« LCD-ystÃ¤vÃ¤llinen threshold
  const img = rctx.getImageData(0, 0, cropW, cropH);
  const d = img.data;

  for (let i = 0; i < d.length; i += 4) {
    const gray = d[i]*0.299 + d[i+1]*0.587 + d[i+2]*0.114;
    const v = gray < 160 ? 255 : 0; // INVERT + matala kynnys
    d[i] = d[i+1] = d[i+2] = v;
  }

  bctx.putImageData(img, 0, 0);

  text.textContent = "OCR kÃ¤ynnissÃ¤â€¦";

  // ðŸ”¢ OCR vain numeroille
  Tesseract.recognize(
    bw,
    'eng',
    {
      tessedit_char_whitelist: '0123456789',
      classify_bln_numeric_mode: 1,
      psm: 7
    }
